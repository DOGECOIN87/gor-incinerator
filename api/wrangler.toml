name = "gor-incinerator-api"
main = "src/index.ts"
compatibility_date = "2024-11-01"
node_compat = true

# Workers AI binding (optional, for future enhancements)
# [ai]
# binding = "AI"

# D1 Database for transaction logging
[[d1_databases]]
binding = "DB"
database_name = "gor-incinerator-logs-2"
database_id = "54456de5-7083-46c2-a69b-4164d5de2dff"

# Environment variables (non-secret)
[vars]
ENVIRONMENT = "production"

# Secrets (set via: wrangler secret put <KEY>)
# API_KEY - API key for Gorbag Wallet authentication (set ✓)
# ADMIN_API_KEY - API key for reconciliation endpoint (set ✓)
# GOR_RPC_URL - Gorbagana RPC endpoint URL (set ✓)
# GOR_VAULT_ADDRESS_AETHER - Aether Labs vault address (50% of fee) (set ✓)
# GOR_VAULT_ADDRESS_INCINERATOR - Gor-incinerator vault address (50% of fee) (set ✓)

# Development environment
[env.dev]
name = "gor-incinerator-api-dev"
vars = { ENVIRONMENT = "development" }

# Routes (configure after deployment)
# This section is now uncommented to enable custom domain routing
routes = [
  { pattern = "api.gor-incinerator.com/*", zone_name = "gor-incinerator.com" }
]

# CORS configuration
[build]
command = ""
